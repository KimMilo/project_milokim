<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="boardMapper">
	<select id="selectPage" parameterType="map" resultType="model.dto.BoardDTO">
		SELECT *
		  FROM (SELECT ROWNUM AS N
		   			 , id
		   			 , btype
		   			 , title
		   			 , writer
		   			 , createDate
		   			 , viewCnt
		   		  FROM (SELECT * FROM BOARD_T ORDER BY btype DESC, id))
		 WHERE N BETWEEN #{start} AND #{end}
	</select>
	<select id="selectTotalRowCount" resultType="int">
		SELECT COUNT(*) FROM BOARD_T
	</select>
	<update id="update" parameterType="model.dto.BoardDTO">
		UPDATE BOARD_T
		   SET viewCnt = viewCnt + 1
		 WHERE id = #{id}
	</update>
	<select id="selectDetail" parameterType="model.dto.BoardDTO" resultType="model.dto.BoardDTO">
		SELECT * FROM BOARD_T WHERE id = #{id}
	</select>
</mapper>
